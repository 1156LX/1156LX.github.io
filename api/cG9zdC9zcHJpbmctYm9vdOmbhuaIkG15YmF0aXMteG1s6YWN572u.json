{"title":"spring boot集成mybatis--xml配置","date":"2018-11-07T03:18:13.000Z","slug":"spring-boot集成mybatis-xml配置","updated":"2018-11-07T03:26:08.148Z","content":"<h1 id=\"spring-boot集成mybatis–xml配置\"><a href=\"#spring-boot集成mybatis–xml配置\" class=\"headerlink\" title=\"spring boot集成mybatis–xml配置\"></a>spring boot集成mybatis–xml配置</h1><div class=\"article-img\"><p><img src=\"/2018/11/07/spring-boot集成mybatis-xml配置/1.png\" alt=\"在这里插入图片描述\"></p></div>\n<h2 id=\"1-配置application-yml连接数据库，mapper-locations-指明mapper-xml映射文件的包，type-aliases-package扫描的包名\"><a href=\"#1-配置application-yml连接数据库，mapper-locations-指明mapper-xml映射文件的包，type-aliases-package扫描的包名\" class=\"headerlink\" title=\"1.配置application.yml连接数据库，mapper-locations 指明mapper.xml映射文件的包，type-aliases-package扫描的包名\"></a>1.配置application.yml连接数据库，mapper-locations 指明mapper.xml映射文件的包，type-aliases-package扫描的包名</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">spring:</span><br><span class=\"line\">  datasource:</span><br><span class=\"line\">    driver-class-name: com.mysql.jdbc.Driver</span><br><span class=\"line\">    password: <span class=\"number\">115600</span>LX</span><br><span class=\"line\">    username: root</span><br><span class=\"line\">    url: jdbc:mysql:<span class=\"comment\">//localhost:3306/test</span></span><br><span class=\"line\">mybatis:</span><br><span class=\"line\">  mapper-locations: classpath:mapper<span class=\"comment\">/*.xml</span></span><br><span class=\"line\"><span class=\"comment\">  type-aliases-package: com.lixin.entity</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"2-创建实体类User\"><a href=\"#2-创建实体类User\" class=\"headerlink\" title=\"2.创建实体类User\"></a>2.创建实体类User</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.lixin.entity;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.Serializable;</span><br><span class=\"line\"></span><br><span class=\"line\">public <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">User</span> <span class=\"title\">implements</span> <span class=\"title\">Serializable</span> </span>&#123;</span><br><span class=\"line\">    private int id;</span><br><span class=\"line\">    private <span class=\"built_in\">String</span> username;</span><br><span class=\"line\">    private <span class=\"built_in\">String</span> password;</span><br><span class=\"line\"></span><br><span class=\"line\">    public int getId() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> id;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public <span class=\"keyword\">void</span> setId(int id) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.id = id;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public <span class=\"built_in\">String</span> getUsername() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> username;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public <span class=\"keyword\">void</span> setUsername(<span class=\"built_in\">String</span> username) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.username = username;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public <span class=\"built_in\">String</span> getPassword() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> password;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public <span class=\"keyword\">void</span> setPassword(<span class=\"built_in\">String</span> password) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.password = password;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public <span class=\"built_in\">String</span> toString() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"User&#123;\"</span> +</span><br><span class=\"line\">                <span class=\"string\">\"id=\"</span> + id +</span><br><span class=\"line\">                <span class=\"string\">\", username='\"</span> + username + <span class=\"string\">'\\''</span> +</span><br><span class=\"line\">                <span class=\"string\">\", password='\"</span> + password + <span class=\"string\">'\\''</span> +</span><br><span class=\"line\">                <span class=\"string\">'&#125;'</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"3-配置UserMapper-xml文件\"><a href=\"#3-配置UserMapper-xml文件\" class=\"headerlink\" title=\"3.配置UserMapper.xml文件\"></a>3.配置UserMapper.xml文件</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version=<span class=\"string\">\"1.0\"</span> encoding=<span class=\"string\">\"UTF-8\"</span> ?&gt;</span><br><span class=\"line\">&lt;!DOCTYPE mapper</span><br><span class=\"line\">        PUBLIC <span class=\"string\">\"-//mybatis.org//DTD Mapper 3.0//EN\"</span></span><br><span class=\"line\">        <span class=\"string\">\"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"</span>&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&lt;mapper namespace=<span class=\"string\">\"com.lixin.mapper.UserMapper\"</span>&gt;</span><br><span class=\"line\">    &lt;!-- 用过ID查询一个用户 --&gt;</span><br><span class=\"line\">    &lt;select id=<span class=\"string\">\"findUserById\"</span> parameterType=<span class=\"string\">\"Integer\"</span> resultType=<span class=\"string\">\"com.lixin.entity.User\"</span> &gt;</span><br><span class=\"line\">          select * from user where id=#&#123;v&#125;</span><br><span class=\"line\">    &lt;<span class=\"regexp\">/select&gt;</span></span><br><span class=\"line\"><span class=\"regexp\"></span></span><br><span class=\"line\"><span class=\"regexp\">    &lt;!-- 查询所有用户 --&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">    &lt;select id=\"findAllUser\" resultType=\"User\"&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">          select * from user</span></span><br><span class=\"line\"><span class=\"regexp\">    &lt;/</span>select&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;!-- 添加用户 --&gt;</span><br><span class=\"line\">    &lt;insert id=<span class=\"string\">\"addUser\"</span> parameterType=<span class=\"string\">\"User\"</span>&gt;</span><br><span class=\"line\">         insert into user(id,username,password) values(#&#123;id&#125;,#&#123;username&#125;,#&#123;password&#125;)</span><br><span class=\"line\">    &lt;<span class=\"regexp\">/insert&gt;</span></span><br><span class=\"line\"><span class=\"regexp\"></span></span><br><span class=\"line\"><span class=\"regexp\">    &lt;!-- 更新用户 --&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">    &lt;update id=\"updateUser\" parameterType=\"User\"&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">          update  user set username=#&#123;username&#125;,password=#&#123;password&#125; where id=#&#123;id&#125;</span></span><br><span class=\"line\"><span class=\"regexp\">    &lt;/u</span>pdate&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;!-- 删除用户 --&gt;</span><br><span class=\"line\">    &lt;<span class=\"keyword\">delete</span> id=<span class=\"string\">\"deleteUser\"</span> parameterType=<span class=\"string\">\"Integer\"</span>&gt;</span><br><span class=\"line\">           delete from user where id=#&#123;v&#125;</span><br><span class=\"line\">    &lt;<span class=\"regexp\">/delete&gt;</span></span><br><span class=\"line\"><span class=\"regexp\"></span></span><br><span class=\"line\"><span class=\"regexp\">&lt;/m</span>apper&gt;</span><br></pre></td></tr></table></figure>\n<h2 id=\"4-创建UserMapper接口类\"><a href=\"#4-创建UserMapper接口类\" class=\"headerlink\" title=\"4.创建UserMapper接口类\"></a>4.创建UserMapper接口类</h2><p>方法名与xml中配置的id名一致<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.lixin.mapper;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> com.lixin.entity.User;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.List;</span><br><span class=\"line\">@Mapper</span><br><span class=\"line\">public interface UserMapper &#123;</span><br><span class=\"line\">    public User findUserById(Integer id);</span><br><span class=\"line\"></span><br><span class=\"line\">    public List&lt;User&gt; findAllUser();</span><br><span class=\"line\"></span><br><span class=\"line\">    public <span class=\"keyword\">void</span> addUser(User user);</span><br><span class=\"line\"></span><br><span class=\"line\">    public <span class=\"keyword\">void</span> updateUser(User user);</span><br><span class=\"line\"></span><br><span class=\"line\">    public <span class=\"keyword\">void</span> deleteUser(int id);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"5-UserService接口\"><a href=\"#5-UserService接口\" class=\"headerlink\" title=\"5.UserService接口\"></a>5.UserService接口</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.lixin.service;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> com.lixin.entity.User;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.List;</span><br><span class=\"line\"></span><br><span class=\"line\">public interface UserService &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    public  User  findById(int id);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    public List&lt;User&gt;findAllUser();</span><br><span class=\"line\"></span><br><span class=\"line\">    public <span class=\"keyword\">void</span> addUser(User user);</span><br><span class=\"line\"></span><br><span class=\"line\">    public <span class=\"keyword\">void</span> updateUser(User user);</span><br><span class=\"line\"></span><br><span class=\"line\">    public <span class=\"keyword\">void</span> deleteUser(int id);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"6-UserServiceImpl实现类\"><a href=\"#6-UserServiceImpl实现类\" class=\"headerlink\" title=\"6.UserServiceImpl实现类\"></a>6.UserServiceImpl实现类</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.lixin.service.impl;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> com.lixin.entity.User;</span><br><span class=\"line\"><span class=\"keyword\">import</span> com.lixin.mapper.UserMapper;</span><br><span class=\"line\"><span class=\"keyword\">import</span> com.lixin.service.UserService;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.stereotype.Service;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.List;</span><br><span class=\"line\"></span><br><span class=\"line\">@Service</span><br><span class=\"line\">public <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserServiceImpl</span> <span class=\"title\">implements</span> <span class=\"title\">UserService</span>  </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    @Autowired</span><br><span class=\"line\">    private UserMapper userMapper ;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public User  findById(int id) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> userMapper.findUserById(id) ;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public List&lt;User&gt; findAllUser() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> userMapper.findAllUser() ;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public <span class=\"keyword\">void</span> addUser(User user) &#123;</span><br><span class=\"line\">        userMapper .addUser(user);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public <span class=\"keyword\">void</span> updateUser(User user) &#123;</span><br><span class=\"line\">         userMapper .updateUser(user);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public <span class=\"keyword\">void</span> deleteUser(int id) &#123;</span><br><span class=\"line\">          userMapper.deleteUser(id);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"7-application主函数\"><a href=\"#7-application主函数\" class=\"headerlink\" title=\"7.application主函数\"></a>7.application主函数</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.lixin;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> org.mybatis.spring.annotation.MapperScan;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.boot.SpringApplication;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class=\"line\"></span><br><span class=\"line\">@SpringBootApplication</span><br><span class=\"line\">@MapperScan(<span class=\"string\">\"com.lixin.mapper\"</span>)</span><br><span class=\"line\">public <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Spring00Application</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    public <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> main(<span class=\"built_in\">String</span>[] args) &#123;</span><br><span class=\"line\">        SpringApplication.run(Spring00Application.class, args);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"8-UserController控制类\"><a href=\"#8-UserController控制类\" class=\"headerlink\" title=\"8.UserController控制类\"></a>8.UserController控制类</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.lixin.controller;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> com.lixin.entity.User;</span><br><span class=\"line\"><span class=\"keyword\">import</span> com.lixin.mapper.UserMapper;</span><br><span class=\"line\"><span class=\"keyword\">import</span> com.lixin.service.UserService;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.boot.autoconfigure.EnableAutoConfiguration;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.transaction.annotation.EnableTransactionManagement;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.annotation.Resource;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.List;</span><br><span class=\"line\"></span><br><span class=\"line\">@RestController</span><br><span class=\"line\">public <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserController</span> </span>&#123;</span><br><span class=\"line\">    @Autowired</span><br><span class=\"line\">    private UserService userService ;</span><br><span class=\"line\"></span><br><span class=\"line\">    @RequestMapping(<span class=\"string\">\"/findById\"</span>)</span><br><span class=\"line\">    public User findById()&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> userService .findById(<span class=\"number\">1</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    @RequestMapping (<span class=\"string\">\"/findAllUser\"</span>)</span><br><span class=\"line\">    public List &lt;User &gt; findAllUser()&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> userService .findAllUser() ;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    @RequestMapping (<span class=\"string\">\"/addUser\"</span>)</span><br><span class=\"line\">    public <span class=\"built_in\">String</span>  addUser()&#123;</span><br><span class=\"line\">        User user =<span class=\"keyword\">new</span> User() ;</span><br><span class=\"line\">        user.setId(<span class=\"number\">3</span>);</span><br><span class=\"line\">        user.setPassword(<span class=\"string\">\"111111\"</span>);</span><br><span class=\"line\">        user.setUsername(<span class=\"string\">\"小李\"</span>);</span><br><span class=\"line\">        userService .addUser(user) ;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"添加成功\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    @RequestMapping(<span class=\"string\">\"/updateUser\"</span>)</span><br><span class=\"line\">    public <span class=\"built_in\">String</span> updateUser()&#123;</span><br><span class=\"line\">        User user =<span class=\"keyword\">new</span> User() ;</span><br><span class=\"line\">        user.setId(<span class=\"number\">1</span>);</span><br><span class=\"line\">        user.setPassword(<span class=\"string\">\"111111\"</span>);</span><br><span class=\"line\">        user.setUsername(<span class=\"string\">\"小李\"</span>);</span><br><span class=\"line\">        userService .updateUser(user);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"更新成功\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    @RequestMapping(<span class=\"string\">\"/deleteUser\"</span>)</span><br><span class=\"line\">    public <span class=\"built_in\">String</span>  deleteUser()&#123;</span><br><span class=\"line\">        userService.deleteUser(<span class=\"number\">2</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"删除成功\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","prev":{"title":"spring boot使用AOP","slug":"spring-boot使用AOP"},"next":{"title":"李鑫的第一篇博客","slug":"李鑫的第一篇博客"},"link":"http://starlx.cn/post/spring-boot集成mybatis-xml配置/","toc":[{"title":"spring boot集成mybatis–xml配置","id":"spring-boot集成mybatis–xml配置","index":"1","children":[{"title":"1.配置application.yml连接数据库，mapper-locations 指明mapper.xml映射文件的包，type-aliases-package扫描的包名","id":"1-配置application-yml连接数据库，mapper-locations-指明mapper-xml映射文件的包，type-aliases-package扫描的包名","index":"1.1"},{"title":"2.创建实体类User","id":"2-创建实体类User","index":"1.2"},{"title":"3.配置UserMapper.xml文件","id":"3-配置UserMapper-xml文件","index":"1.3"},{"title":"4.创建UserMapper接口类","id":"4-创建UserMapper接口类","index":"1.4"},{"title":"5.UserService接口","id":"5-UserService接口","index":"1.5"},{"title":"6.UserServiceImpl实现类","id":"6-UserServiceImpl实现类","index":"1.6"},{"title":"7.application主函数","id":"7-application主函数","index":"1.7"},{"title":"8.UserController控制类","id":"8-UserController控制类","index":"1.8"}]}]}