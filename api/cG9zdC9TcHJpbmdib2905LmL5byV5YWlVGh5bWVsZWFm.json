{"title":"Springboot之引入Thymeleaf","date":"2019-04-15T13:06:11.000Z","slug":"Springboot之引入Thymeleaf","updated":"2019-04-15T13:07:58.863Z","content":"<h1 id=\"一-介绍\"><a href=\"#一-介绍\" class=\"headerlink\" title=\"一.介绍\"></a>一.介绍</h1><p>开发传统Java WEB工程时，我们可以使用JSP页面模板语言，但是在SpringBoot中已经不推荐使用了。SpringBoot支持如下页面模板语言</p>\n<ul>\n<li>Thymeleaf</li>\n<li>FreeMarker</li>\n<li>Velocity</li>\n<li>Groovy</li>\n<li><p>JSP</p>\n<h1 id=\"二-添加依赖\"><a href=\"#二-添加依赖\" class=\"headerlink\" title=\"二.添加依赖\"></a>二.添加依赖</h1><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> &lt;dependency&gt;</span><br><span class=\"line\">    &lt;groupId&gt;org.springframework.boot&lt;<span class=\"regexp\">/groupId&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/</span>artifactId&gt;</span><br><span class=\"line\">&lt;<span class=\"regexp\">/dependency&gt;</span></span><br></pre></td></tr></table></figure>\n<p>Spring Boot默认存放模板页面的路径在src/main/resources/templates或者src/main/view/templates，这个无论是使用什么模板语言都一样，当然默认路径是可以自定义的，不过一般不推荐这样做。另外Thymeleaf默认的页面文件后缀是.html。</p>\n</li>\n</ul>\n<h1 id=\"三-基本语法\"><a href=\"#三-基本语法\" class=\"headerlink\" title=\"三.基本语法\"></a>三.基本语法</h1><p>首先要在改写html标签<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">xmlns:th</span>=<span class=\"string\">\"http://www.thymeleaf.org\"</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>这样的话才可以在其他标签里面使用th:*这样的语法.这是下面语法的前提.</p>\n<h6 id=\"1-获取变量值\"><a href=\"#1-获取变量值\" class=\"headerlink\" title=\"1).获取变量值\"></a>1).获取变量值</h6><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">th:text</span>=<span class=\"string\">\"'Hello！, ' + $&#123;name&#125; + '!'\"</span> &gt;</span>3333<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>获取变量值用<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">###### 2).引入URL</span><br><span class=\"line\">Thymeleaf对于URL的处理是通过语法@&#123;…&#125;来处理的</span><br><span class=\"line\">```html</span><br><span class=\"line\">&lt;a th:href=&quot;@&#123;http://blog.csdn.net/u012706811&#125;&quot;&gt;绝对路径&lt;/a&gt;</span><br><span class=\"line\">&lt;a th:href=&quot;@&#123;/&#125;&quot;&gt;相对路径&lt;/a&gt;</span><br><span class=\"line\">&lt;a th:href=&quot;@&#123;css/bootstrap.min.css&#125;&quot;&gt;Content路径,默认访问static下的css文件夹&lt;/a&gt;</span><br></pre></td></tr></table></figure></p>\n<p>类似的标签有:<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">###### 3).字符串替换</span><br><span class=\"line\">通过字符串拼接操作完成：</span><br><span class=\"line\">```html</span><br><span class=\"line\">&lt;span th:text=&quot;&apos;Welcome to our application, &apos; + $&#123;user.name&#125; + &apos;!&apos;&quot;&gt;</span><br></pre></td></tr></table></figure></p>\n<h6 id=\"4-运算符\"><a href=\"#4-运算符\" class=\"headerlink\" title=\"4).运算符\"></a>4).运算符</h6><p>在表达式中可以使用各类算术运算符，例如+, -, *, /, %<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">th:with</span>=<span class=\"string\">\"isEven=($&#123;prodStat.count&#125; % 2 == 0)\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h6 id=\"5-条件\"><a href=\"#5-条件\" class=\"headerlink\" title=\"5).条件\"></a>5).条件</h6><ul>\n<li>if / unless<br>Thymeleaf中使用th:if和th:unless属性进行条件判断，下面的例子中，标签只有在th:if中条件成立时才显示：<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">th:if</span>=<span class=\"string\">\"$&#123;myself=='yes'&#125;\"</span> &gt;</span> <span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span> <span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">th:unless</span>=<span class=\"string\">$&#123;session.user</span> != <span class=\"string\">null&#125;</span> <span class=\"attr\">th:href</span>=<span class=\"string\">\"@&#123;/login&#125;\"</span> &gt;</span>Login<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>th:unless于th:if恰好相反，只有表达式中的条件不成立，才会显示其内容。</p>\n<ul>\n<li><p>Switch</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">th:switch</span>=<span class=\"string\">\"$&#123;user.role&#125;\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">th:case</span>=<span class=\"string\">\"'admin'\"</span>&gt;</span>User is an administrator<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">th:case</span>=<span class=\"string\">\"#&#123;roles.manager&#125;\"</span>&gt;</span>User is a manager<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>默认属性default可以用*表示：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">th:switch</span>=<span class=\"string\">\"$&#123;user.role&#125;\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">th:case</span>=<span class=\"string\">\"'admin'\"</span>&gt;</span>User is an administrator<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">th:case</span>=<span class=\"string\">\"#&#123;roles.manager&#125;\"</span>&gt;</span>User is a manager<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">th:case</span>=<span class=\"string\">\"*\"</span>&gt;</span>User is some other thing<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h6 id=\"6-循环\"><a href=\"#6-循环\" class=\"headerlink\" title=\"6).循环\"></a>6).循环</h6><figure class=\"highlight html\"><figcaption><span><body>   <h1>Product list</h1> <script src=\"/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887\"></script><script>L2Dwidget.init({\"log\":false,\"pluginJsPath\":\"lib/\",\"pluginModelPath\":\"assets/\",\"pluginRootPath\":\"live2dw/\",\"tagMode\":false});</script></body></span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">table</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>NAME<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>PRICE<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>IN STOCK<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">tr</span> <span class=\"attr\">th:each</span>=<span class=\"string\">\"prod : $&#123;prods&#125;\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">td</span> <span class=\"attr\">th:text</span>=<span class=\"string\">\"$&#123;prod.name&#125;\"</span>&gt;</span>Onions<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">td</span> <span class=\"attr\">th:text</span>=<span class=\"string\">\"$&#123;prod.price&#125;\"</span>&gt;</span>2.41<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">td</span> <span class=\"attr\">th:text</span>=<span class=\"string\">\"$&#123;prod.inStock&#125;? #&#123;true&#125; : #&#123;false&#125;\"</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">table</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"../home.html\"</span> <span class=\"attr\">th:href</span>=<span class=\"string\">\"@&#123;/&#125;\"</span>&gt;</span>Return to home<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br></pre></td></tr></table></figure>\n","prev":{"title":"C++中set用法","slug":"C-中set用法"},"next":{"title":"Listener监听器","slug":"Listener监听器"},"link":"http://starlx.cn/post/Springboot之引入Thymeleaf/","toc":[{"title":"一.介绍","id":"一-介绍","index":"1"},{"title":"二.添加依赖","id":"二-添加依赖","index":"2"},{"title":"三.基本语法","id":"三-基本语法","index":"3"}]}